# NativQA Framework: A Framework for Collecting Multilingual Culturally-Aligned Natural Queries

Natural Question Answering (QA) datasets play a crucial role in developing and evaluating the capabilities of large language models (LLMs), ensuring their effective usage in real-world applications. Despite the numerous QA datasets that have been developed, there is a notable lack of region-specific datasets generated by native users in their own languages. This gap hinders the effective benchmarking of LLMs for regional and cultural specificities. In this study, we propose a scalable framework, NativQA, to seamlessly construct culturally and regionally aligned QA datasets in native languages, for LLM evaluation and tuning. Moreover, to demonstrate the efficacy of the proposed framework, we designed a multilingual natural QA dataset, MultiNativQA, consisting of ~64K QA pairs in seven languages, ranging from high to extremely low resource, based on queries from native speakers covering 18 topics.


## Overview
<p align="center">
<picture>
<img alt = "NativQA framework, demonstrating the data collection and annotation process." src="https://nativqa.gitlab.io/assets/img/data_collection_pipeline_nativqa-1400.webp" width="510" height="160"/>
</picture>
</p>

Developing **NativQA Framework** is an ongoing effort and it will be continuously expanded. Currently, the framework features the following:
- Support [Google Search](https://google.com) for collecting "People also ask" questions and answers.
- Support seed queries in CSV/TSV format.
- Open-source.

## Quick Start

1. Clone the repository `git clone https://gitlab.com/nativqa/nativqa-framework.git`
2. Navigate to the `nativqa-framework` directory by typing `cd nativqa-framework`
3. Install the requirements `python -m pip install -r requirements.txt`
4. Put your SerpAPI api key in `envs/api_key.env`
5. Run the program!

For example, to run the program using example seed queries:
```bash
python -m nativqa --input_file data/test_query.csv --country_code qa --location "Doha, Qatar" --env envs/api_key.env --n_iter 3
```
which uses a sample [seed query files](./data/test_query.csv)

#### Parameters

- `--input_file` seed query file should be CSV/TSV
- `--country_code` Parameter defines the country to use for the Google search. The country code supported by Google.
- `--location` Parameter defines from where you want the search to originate.
- `--multiple_countries` Parameter defines one or multiple countries to limit the search to. For example, `countryQA|countryBD`
- `--env` API key file.
- `--output` output directory location. Defaults `./results/`
- `--n_iter` number of search iteration to perform.

#### Outputs Format
- The framework will create a directory using input `filename` under the given output directory.
  - **dataset** directory has the final QA pair file with the same name of input file.
  - **iteration_{n}** directory contains output folder of each iteration and input queries of each iteration.
    - **output** contains the output of each iteration consisting of `related_search.tsv, original_response.json, summary.jsonl, related_question.json`
  - **completed_queries.txt** List of completed searched queries

## Citation
Please cite our papers when referring to this framework:

```
@article{hasan2024nativqa,
  title={NativQA: Multilingual Culturally-Aligned Natural Query for LLMs},
  author={Hasan, Md Arid and Hasanain, Maram and Ahmad, Fatema and Laskar, Sahinur Rahman and Upadhyay, Sunaya and Sukhadia, Vrunda N and Kutlu, Mucahid and Chowdhury, Shammur Absar and Alam, Firoj},
  journal={arXiv preprint arXiv:2407.09823},
  year={2024}
}
```